<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>AlgoRave - Sample Test</title>
</head>
<body>
    <h1>Test des Samples</h1>
    <button onclick="testSamples()">Tester les Samples</button>
    <div id="output"></div>

    <script src="https://cdn.jsdelivr.net/npm/tone@14.8.49/build/Tone.js"></script>
    <script src="audio/samples.js"></script>
    <script>
        let output = document.getElementById('output');
        
        async function testSamples() {
            output.innerHTML = '<p>ðŸ”„ Initialisation...</p>';
            
            // Initialize Tone
            await Tone.start();
            output.innerHTML += '<p>âœ“ Tone.js dÃ©marrÃ©</p>';
            
            // Create and init sample library
            window.sampleLibrary = new SampleLibrary();
            await window.sampleLibrary.init();
            
            output.innerHTML += '<p>âœ“ Sample library initialisÃ©e</p>';
            
            // Show loaded samples
            const info = window.sampleLibrary.getInfo();
            output.innerHTML += `<h3>Samples chargÃ©s (${info.loaded}):</h3>`;
            output.innerHTML += `<pre>${info.samples.join('\n')}</pre>`;
            
            // Test playing samples
            output.innerHTML += '<h3>Test de lecture:</h3>';
            
            setTimeout(() => {
                output.innerHTML += '<p>ðŸ”Š Test kick...</p>';
                window.sampleLibrary.play('kick', '+0.0', { gain: 0.8 });
            }, 500);
            
            setTimeout(() => {
                output.innerHTML += '<p>ðŸ”Š Test cp (clap)...</p>';
                window.sampleLibrary.play('cp', '+0.0', { gain: 0.8 });
            }, 1000);
            
            setTimeout(() => {
                output.innerHTML += '<p>ðŸ”Š Test sd (snare)...</p>';
                window.sampleLibrary.play('sd', '+0.0', { gain: 0.8 });
            }, 1500);
            
            setTimeout(() => {
                output.innerHTML += '<p>ðŸ”Š Test hh (hihat)...</p>';
                window.sampleLibrary.play('hh', '+0.0', { gain: 0.8 });
            }, 2000);
            
            setTimeout(() => {
                output.innerHTML += '<p>âœ… Test terminÃ©!</p>';
            }, 2500);
        }
    </script>
</body>
</html>
